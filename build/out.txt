@name clua_compiler_output
@persist [Instace Ctx]:table

#include "lua/clua"

if(first()){
    local Code = table("_Type" = "block", 1 = table("_Type" = "call", 1 = table("_Type" = "identifier", 1 = "print"), 2 = table(1 = table("_Type" = "literal", 1 = "4", 2 = "hello world!")))) 
    Instace = cluaInstance()
    Func = Instace:cluaToFunc(Code)
    Ctx = Func:cluaCreateFuncContext()
    
    runOnTick(1)
}

if(tickClk()){
    if(Ctx:cluaContextExecute(80)){
        runOnTick(0)
    }
}
